# 离线地图解决方案

需求：当项目需要内网离线部署的时候，高德百度等在线 API 等都不能使用

利用这个方法下载瓦片图放到静态服务器上

即可在内网服务器上部署

![20211201203055](https://cdn.jsdelivr.net/gh/wu529778790/image/blog/20211201203055.png)

你即将使用的百度地图 js API 3.0 离线版本，由网络获得。

仅用于个人研究学习，禁止商业用途，否则一切后果由你承担！

## 关于文件目录

（1） 你下载的文件解压后获得 3 个文件夹和 2 个可执行程序

（2） bmap-demo 文件夹： 离线示例

（3） bmap-offline 文件夹： 离线地图 API 和瓦片

（3） resource 文件夹： 下载程序需要的

上述任一文件夹都不可以删除，否则程序运行异常。

## 离线 API 如何使用(参考 bmap-demo)

（1） 拷贝 bmap-offline 文件夹至你的项目下

（2） 页面中引用 map3.0_init.js 和 map3.0.js

（3） 普通地图瓦片存放在 bmap-offline\tiles\

（4） 卫星地图瓦片存放在 bmap-offline\tiles_satellite\

（5） 混合地图瓦片存放在 bmap-offline\tiles_hybird\

你可以通过修改 map3.0_init.js 改变瓦片的地址。

## 如何下载地图？

（1） 双击运行 BMapTool 程序，

（2） 切换导航到“下载地图”

（3） 点击区域下载，在地图上画个框后，弹出窗口中选择瓦片级数

（4） 选择目录并点击确认后，打开下载工具

（5） 在下载工具中点击“开始下载”。

## 下载工具如何使用？

（1） 如果你中途关闭了下载工具，请双击运行 BMapDown 程序

（2） 在文件菜单中点击打开任务文件，选择你以前保存的文件

（3） 在下载工具中点击“开始下载”。
